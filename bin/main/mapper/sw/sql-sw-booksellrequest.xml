<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bookmarket.app.mapper.sw.BookSellRequestMapperSW">

	<select id="myRequests" resultType="bookSW" >
	 SELECT * FROM Book b, BookSellRequest bsr
    WHERE b.book_id = bsr.book_id
      AND bsr.pub_id = #{pubId}
    ORDER BY b.book_date DESC, b.book_id DESC
    OFFSET #{offset} ROWS FETCH NEXT #{limit} ROWS ONLY
	</select>
	
		<!-- 승인 대기 도서 총 개수 조회 -->
	<select id="getRequsetBookCount" resultType="int">
		SELECT COUNT(*) FROM BookSellRequest bsr
		WHERE bsr.pub_id = #{pubId}
	</select>
	
	
	
</mapper>